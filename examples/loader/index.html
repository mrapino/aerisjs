<!DOCTYPE html>
<html>
<head>
  <title>Loader example</title>

  <link rel="stylesheet" href="../css/example.css"/>

  <script type="text/javascript"
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDxTEbJsXwGRW4zDj8fpVsenDMMQGhZhUU&sensor=false&libraries=geometry">
  </script>
  <script type="text/javascript" src="../../externals/require.js"
          data-main="../initialize.js"></script>
  <script type="text/javascript">
    function initialize() {
      require([
        'aeris/loader/loader',
        'vendor/jquery'
      ], function(Loader) {
        var loader = new Loader();

        window.$ = require('vendor/jquery');

        loader.load({
          maps: {
            mapType: 'gmaps',
            packages: ['layers'],
            markercollections: ['EarthquakeMarkerCollection', 'FireMarkerCollection'],
            apiId: 'ezHWL0MiLsxwlN2ik8U4c',
            apiSecret: 'uCDMeSj91lBfIKCmeQkpeZjsAwUUQJHuKesCvqTm'
          },
          onload: onload,
          onerror: function(error) {
            console.assert(false, error);
          }
        })
      });
    }
    function onload() {
      console.assert(aeris);
      console.assert(aeris.maps);
      console.assert(aeris.maps.Map);
      console.assert(aeris.maps.layers);
      console.assert(aeris.maps.layers.AerisAdvisories);
      console.assert(aeris.maps.layers.GoogleHybrid);
      console.assert(aeris.maps.EarthquakeMarkers);
      console.assert(aeris.maps.FireMarkers);

      window.map = new aeris.maps.Map('map-canvas', {
        baseLayer: new aeris.maps.layers.GoogleSatellite()
      });
      window.markers = new aeris.maps.EarthquakeMarkers();
      markers.setMap(map);

      $('#backInStyle').delay(1000).slideDown();
      window.setInterval(function() {
        $('#yay').fadeIn().delay(200).fadeOut();
      }, 200);
    }
  </script>
</head>
<body>
  <div id="map-canvas"></div>
  <div id="backInStyle" style="width: 40%; margin: 0 auto; display: none;">
    <marquee style="padding:30px; font-size:24px; color: darkslateblue;">!!! All assertions passing !!11!</marquee>
  </div>
  <h1 id="yay" style="text-align: center">yay</h1>
</body>
</html>