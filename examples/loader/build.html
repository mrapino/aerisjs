<!DOCTYPE html>
<html>
<head>
  <title>Loader example</title>

  <style type="text/css">
    #map-canvas.spin {
      margin: 0 auto;
      -webkit-animation-name: spin;
      -webkit-animation-duration: 2000ms;
      -webkit-animation-iteration-count: infinite;
    }
    @-webkit-keyframes spin {
      from {
        width: 20px;
        height: 40x;
        -webkit-transform: rotate(0deg);
      }
      to {
        width: 800px;
        height: 600px;
        -webkit-transform: rotate(360deg);
      }
    }
    marquee {
      display: block;
    }

  </style>

  <link rel="stylesheet" href="../css/example.css"/>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script type="text/javascript"
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDxTEbJsXwGRW4zDj8fpVsenDMMQGhZhUU&sensor=false&libraries=geometry">
  </script>
  <script type="text/javascript" src="../../build/loader/loader.js"></script>
  <script type="text/javascript">

    aeris.Loader.load({
      maps: {
        mapType: 'gmaps',
        packages: ['layers'],
        markercollections: ['EarthquakeMarkerCollection', 'FireMarkerCollection'],
        apiId: 'ezHWL0MiLsxwlN2ik8U4c',
        apiSecret: 'uCDMeSj91lBfIKCmeQkpeZjsAwUUQJHuKesCvqTm'
      },
      onload: onload,
      onerror: function(error) {
        console.assert(false, error);
      }
    });
    function onload() {
      console.assert(aeris);
      console.assert(aeris.maps);
      console.assert(aeris.maps.Map);
      console.assert(aeris.maps.layers);
      console.assert(aeris.maps.layers.AerisAdvisories);
      console.assert(aeris.maps.layers.GoogleHybrid);
      console.assert(aeris.maps.EarthquakeMarkers);
      console.assert(aeris.maps.FireMarkers);

      window.map = new aeris.maps.Map('map-canvas', {
        baseLayer: new aeris.maps.layers.GoogleSatellite()
      });

      $('#backInStyle').delay(1000).slideDown();
      window.setInterval(function() {
        $('#map-canvas').addClass('spin');
        $('#yay').fadeIn().delay(200).fadeOut();
      }, 200);
    }
  </script>
</head>
<body>
  <div id="backInStyle" style="width: 40%; margin: 0 auto; display: none;">
    <marquee style="padding:30px; font-size:24px; color: darkslateblue;">!!! All assertions passing !!11!
      <div id="map-canvas"></div></marquee>
  </div>
  <h1 id="yay" style="text-align: center">yay</h1>
</body>
</html>